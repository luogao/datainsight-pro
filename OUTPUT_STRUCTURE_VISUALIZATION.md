# ä»»åŠ¡è¾“å‡ºç»“æ„ - å¿«é€Ÿå‚è€ƒ

## ğŸ“‚ ç›®å½•æ ‘è§†å›¾

```
web/outputs/
â”‚
â”œâ”€â”€ 550e8400-e29b-41d4-a716-446655440000/          # ç¤ºä¾‹ä»»åŠ¡ ID
â”‚   â”œâ”€â”€ ğŸ“Š data_exploration.md          [~2-5 KB]
â”‚   â”œâ”€â”€ ğŸ“ˆ statistical_analysis.md      [~3-8 KB]
â”‚   â”œâ”€â”€ ğŸ¤– pandaai_analysis.md          [~5-15 KB]
â”‚   â”œâ”€â”€ ğŸ“ final_report.md              [~10-30 KB]
â”‚   â””â”€â”€ ğŸ“‹ execution_log.txt            [~20-50 KB]
â”‚
â”œâ”€â”€ a1b2c3d4-e5f6-7890-abcd-ef1234567890/
â”‚   â”œâ”€â”€ data_exploration.md
â”‚   â”œâ”€â”€ statistical_analysis.md
â”‚   â”œâ”€â”€ pandaai_analysis.md
â”‚   â”œâ”€â”€ final_report.md
â”‚   â””â”€â”€ execution_log.txt
â”‚
â””â”€â”€ ... (æ›´å¤šä»»åŠ¡æ–‡ä»¶å¤¹)
```

## ğŸ”„ æ•°æ®æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Web UI åˆ†æè¯·æ±‚                            â”‚
â”‚  (goal, dataset_path, depth, output_format)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              åˆ›å»ºä»»åŠ¡ä¸“ç”¨æ–‡ä»¶å¤¹: web/outputs/{task_id}       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                       â”‚
         â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Data Explorer    â”‚    â”‚   CrewAI Engine  â”‚
â”‚   Agent          â”‚    â”‚   (Sequential)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚
         â”‚ save to:              â”‚ extract from:
         â”‚ data_exploration.md   â”‚ result.tasks_output[0]
         â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                 â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                                     â”‚
         â–¼                                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Analyst        â”‚                 â”‚    PandaAI       â”‚
â”‚   Agent          â”‚                 â”‚    Agent         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                    â”‚
         â”‚ save to:                           â”‚ save to:
         â”‚ statistical_analysis.md            â”‚ pandaai_analysis.md
         â”‚                                    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚   Reporter     â”‚
                 â”‚   Agent        â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚ save to:
                          â”‚ final_report.md
                          â”‚
                          â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚ execution_log  â”‚
                 â”‚   .txt         â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸŒ API æ¥å£ä¸€è§ˆ

| æ–¹æ³• | ç«¯ç‚¹ | æè¿° | å“åº” |
|------|------|------|------|
| GET | `/tasks/{task_id}/files` | åˆ—å‡ºä»»åŠ¡æ‰€æœ‰æ–‡ä»¶ | æ–‡ä»¶åˆ—è¡¨ + URL |
| GET | `/tasks/{task_id}/files/{filename}` | ä¸‹è½½ç‰¹å®šæ–‡ä»¶ | æ–‡ä»¶å†…å®¹ |
| GET | `/reports/{task_id}/download` | ä¸‹è½½æœ€ç»ˆæŠ¥å‘Š | Markdown æ–‡ä»¶ |
| GET | `/reports/{task_id}` | è·å–æŠ¥å‘Šå†…å®¹ | JSON å†…å®¹ |

## ğŸ“Š å…¸å‹æ–‡ä»¶å†…å®¹ç¤ºä¾‹

### data_exploration.md
```markdown
# æ•°æ®æ¢ç´¢åˆ†æç»“æœ

## æ•°æ®é›†åŸºæœ¬ä¿¡æ¯
- æ–‡ä»¶è·¯å¾„: /path/to/sales_data.csv
- æ•°æ®è§„æ¨¡: 1000 è¡Œ Ã— 8 åˆ—
- å­—æ®µåˆ—è¡¨: ['date', 'product', 'sales', 'customers', ...]

## æ•°æ®ç±»å‹
- date: datetime64
- product: object
- sales: int64
...

## æ•°æ®è´¨é‡
- ç¼ºå¤±å€¼: 5 (0.5%)
- é‡å¤è¡Œ: 0
- å¼‚å¸¸å€¼: 12

## æ•°æ®é¢„è§ˆ
| date       | product | sales | ... |
|------------|---------|-------|-----|
| 2024-01-01 | A       | 120   | ... |
...
```

### statistical_analysis.md
```markdown
# ç»Ÿè®¡åˆ†æç»“æœ

## é”€å”®é¢ç»Ÿè®¡
- å‡å€¼: 5432.50
- ä¸­ä½æ•°: 4980.00
- æ ‡å‡†å·®: 1234.56

## è¶‹åŠ¿åˆ†æ
- æ•´ä½“è¶‹åŠ¿: ä¸Šå‡
- å¹³å‡å¢é•¿ç‡: 5.2%

## ç›¸å…³æ€§åˆ†æ
- sales vs customers: 0.87 (å¼ºæ­£ç›¸å…³)
- sales vs price: -0.45 (ä¸­ç­‰è´Ÿç›¸å…³)

## å¼‚å¸¸å€¼æ£€æµ‹
å‘ç° 3 ä¸ªå¼‚å¸¸å€¼:
- ç¬¬ 156 è¡Œ: 12,500 (z=3.2)
...
```

## ğŸ’¡ ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1: è°ƒè¯•ç‰¹å®š Agent è¾“å‡º
```bash
# 1. åˆ—å‡ºä»»åŠ¡æ–‡ä»¶
curl http://localhost:8000/tasks/abc-123/files

# 2. ä¸‹è½½ PandaAI è¾“å‡ºæ£€æŸ¥
curl http://localhost:8000/tasks/abc-123/files/pandaai_analysis.md -o pandaai_output.md

# 3. åˆ†æé—®é¢˜
cat pandaai_output.md
```

### åœºæ™¯ 2: æ‰¹é‡å¯¼å‡ºæ‰€æœ‰ç»“æœ
```bash
# ä¸‹è½½æ•´ä¸ªä»»åŠ¡æ–‡ä»¶å¤¹
curl -O http://localhost:8000/tasks/abc-123/files/data_exploration.md
curl -O http://localhost:8000/tasks/abc-123/files/statistical_analysis.md
curl -O http://localhost:8000/tasks/abc-123/files/pandaai_analysis.md
curl -O http://localhost:8000/tasks/abc-123/files/final_report.md
```

### åœºæ™¯ 3: å‰ç«¯æ˜¾ç¤ºåˆ†æè¿›åº¦
```typescript
// æ˜¾ç¤ºæ¯ä¸ª Agent çš„è¾“å‡º
const files = await fetchTaskFiles(taskId);

return (
  <div>
    {files.map(file => (
      <AnalysisFile
        name={file.name}
        url={file.url}
        size={file.size}
      />
    ))}
  </div>
);
```

## ğŸ” æ•…éšœæ’æŸ¥

| é—®é¢˜ | å¯èƒ½åŸå›  | è§£å†³æ–¹æ¡ˆ |
|------|----------|----------|
| æ–‡ä»¶ä¸å­˜åœ¨ | Agent æ‰§è¡Œå¤±è´¥ | æ£€æŸ¥ execution_log.txt |
| æ–‡ä»¶ä¸ºç©º | Agent æ— è¾“å‡º | æŸ¥çœ‹ä»»åŠ¡è¿›åº¦å’Œé”™è¯¯ |
| æ–‡ä»¶è¿‡å° | æ•°æ®å¤„ç†å¼‚å¸¸ | éªŒè¯è¾“å…¥æ•°æ®æ ¼å¼ |
| ç¼–ç é”™è¯¯ | ç‰¹æ®Šå­—ç¬¦ | ä½¿ç”¨ UTF-8 è¯»å– |

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **å®šæœŸæ¸…ç†**: åˆ é™¤ 7 å¤©å‰çš„ä»»åŠ¡
2. **å‹ç¼©å½’æ¡£**: å°†æ—§ä»»åŠ¡æ‰“åŒ…ä¸º .zip
3. **ç´¢å¼•ä¼˜åŒ–**: å»ºç«‹ Elasticsearch ç´¢å¼•
4. **CDN åŠ é€Ÿ**: é™æ€æ–‡ä»¶ä½¿ç”¨ CDN
